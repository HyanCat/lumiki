{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["/**\n *\n * lumiki\n *\n * Created by HyanCat on 15/5/19.\n * Copyright (C) 2015 HyanCat. All rights reserved.\n */\n\n\nvar tokenOperation = function () {\n\treturn {\n\t\tinit: function () {\n\t\t\t$('.generate-token').click(function () {\n\t\t\t\t$.ajax({\n\t\t\t\t\turl     : '/token',\n\t\t\t\t\ttype    : 'POST',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess : function (response) {\n\t\t\t\t\t\tif (response.error == 0) {\n\t\t\t\t\t\t\tvar token      = response.message.token;\n\t\t\t\t\t\t\tvar id         = response.message.id;\n\t\t\t\t\t\t\tvar tokenTable = $('#tokenTable');\n\t\t\t\t\t\t\t$('<tr><td>' + token + '</td><td><div class=\"ui mini negative button delete-button\" data-id=\"' + id + '\">删除</div> </td></tr>')\n\t\t\t\t\t\t\t\t.fadeIn().appendTo(tokenTable.find('tbody').first());\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror   : function (request) {\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t$('#tokenTable').on('click', '.delete-button', function () {\n\t\t\t\tvar id      = $(this).attr('data-id');\n\t\t\t\tvar thisRow = $(this).closest('tr');\n\t\t\t\t$.ajax({\n\t\t\t\t\turl     : '/token/' + id,\n\t\t\t\t\ttype    : 'POST',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdata    : {\n\t\t\t\t\t\t_method: 'DELETE',\n\t\t\t\t\t},\n\t\t\t\t\tsuccess : function (response) {\n\t\t\t\t\t\tif (response.error == 0) {\n\t\t\t\t\t\t\tthisRow.fadeOut('fast', function () {\n\t\t\t\t\t\t\t\tthisRow.remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror   : function (request) {\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n}();\n\nvar userOperation = function () {\n\treturn {\n\t\tinit: function () {\n\t\t\t$('#userTable').on('click', '.delete-button', function () {\n\t\t\t\tvar id      = $(this).attr('data-id');\n\t\t\t\tvar thisRow = $(this).closest('tr');\n\t\t\t\t$.ajax({\n\t\t\t\t\turl     : '/user/' + id,\n\t\t\t\t\ttype    : 'POST',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdata    : {\n\t\t\t\t\t\t_method: 'DELETE',\n\t\t\t\t\t},\n\t\t\t\t\tsuccess : function (response) {\n\t\t\t\t\t\tif (response.error == 0) {\n\t\t\t\t\t\t\tthisRow.fadeOut('fast', function () {\n\t\t\t\t\t\t\t\tthisRow.remove();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror   : function (request) {\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n}();\n\n$(document).ready(function () {\n\ttokenOperation.init();\n\tuserOperation.init();\n});"],"sourceRoot":"/source/"}